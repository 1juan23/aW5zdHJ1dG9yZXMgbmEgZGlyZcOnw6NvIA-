import{j as e,u as fe}from"./supabase-vendor-zrCfvSZu.js";import{u as de,B as v,s as h,c as $,C as m,e as x,a as A,b as C,h as U,d as V,H as be,F as ve}from"./index-CcM7G_HG.js";import{r as o,L as B,u as Ne,i as ye,H as we}from"./react-vendor-C2tQq_zP.js";import{D as Se,a as Ae,b as Ce,c as Le}from"./dialog-C0xQx6hb.js";import{I as G}from"./input-CCzeZ9h-.js";import{L as R}from"./label-BuoQyU_D.js";import{T as De}from"./textarea-FnepGMth.js";import{S as Pe,a as _e,b as ke,c as Ee,d as qe}from"./select-481qhC-1.js";import{A as me,a as xe,b as ue}from"./avatar-DeTSaY0_.js";import{D as Me,C as Re}from"./CancelLessonModal-mJkGekD1.js";import{U as ae,N as Fe,L as K,R as Be,y as ie,q as H,s as E,T as he,V as Ie,K as Te,Z as Ve,W as Z,Y as ee,_ as te,G as Ue,X as pe,a0 as se,o as ne,a1 as He,a2 as ze,a3 as Oe,a4 as le,f as Ge,a5 as $e,M as Ze,a6 as Ke}from"./ui-vendor-D-xBSbyO.js";import{u as We}from"./useProfileViews-DIqDxRyT.js";import{P as Xe}from"./PlanBadge-Bd_yppv9.js";import{f as X,p as J}from"./pt-BR-XEdHDqF9.js";import{b as Je}from"./useLessons-DS_q4MoL.js";import"./index-BdQq_4o_.js";import"./index-CVM1siHy.js";const Qe=["Iniciante","Medo de dirigir","Primeira habilitaÃ§Ã£o","Reciclagem","Habilitados","Baliza","Estrada","Defensiva"],Ye=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];function es({instructor:s,open:l,onClose:a,onUpdate:c}){var y;const[d,t]=o.useState(!1),[u,f]=o.useState(null),[p,q]=o.useState(s.avatar_url),k=o.useRef(null),{toast:L}=de(),[n,N]=o.useState({name:s.name,phone:s.phone,city:s.city,state:s.state,neighborhoods:s.neighborhoods||"",experience:s.experience||"",specialties:s.specialties||[],bio:s.bio||"",price:((y=s.price)==null?void 0:y.toString())||""}),P=r=>{var D;const g=(D=r.target.files)==null?void 0:D[0];if(g){if(g.size>2*1024*1024){L({title:"Arquivo muito grande",description:"A imagem deve ter no mÃ¡ximo 2MB.",variant:"destructive"});return}f(g);const M=new FileReader;M.onloadend=()=>{q(M.result)},M.readAsDataURL(g)}},j=r=>{N(g=>({...g,specialties:g.specialties.includes(r)?g.specialties.filter(D=>D!==r):[...g.specialties,r]}))},b=async r=>{r.preventDefault(),t(!0);try{let g=s.avatar_url;if(u){const M=u.name.split(".").pop(),i=`${s.user_id}/avatar.${M}`,{error:w}=await h.storage.from("avatars").upload(i,u,{upsert:!0});if(w)console.error("Avatar upload error:",w);else{const{data:z}=h.storage.from("avatars").getPublicUrl(i);g=z.publicUrl+`?t=${Date.now()}`}}const{error:D}=await h.from("instructors").update({name:n.name,phone:n.phone,city:n.city,state:n.state,neighborhoods:n.neighborhoods||null,experience:n.experience||null,specialties:n.specialties,bio:n.bio||null,price:n.price?parseFloat(n.price):null,avatar_url:g}).eq("id",s.id);if(D)throw D;L({title:"Perfil atualizado!",description:"Suas informaÃ§Ãµes foram salvas com sucesso."}),c(),a()}catch(g){console.error("Error updating profile:",g),L({title:"Erro",description:"NÃ£o foi possÃ­vel atualizar seu perfil.",variant:"destructive"})}finally{t(!1)}};return e.jsx(Se,{open:l,onOpenChange:a,children:e.jsxs(Ae,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ce,{children:e.jsx(Le,{children:"Editar Perfil"})}),e.jsxs("form",{onSubmit:b,className:"space-y-6 mt-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs(me,{className:"w-24 h-24",children:[e.jsx(xe,{src:p||void 0}),e.jsx(ue,{className:"bg-secondary text-2xl",children:n.name?n.name.charAt(0).toUpperCase():e.jsx(ae,{className:"h-8 w-8"})})]}),e.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:P,className:"hidden"}),e.jsx(v,{type:"button",size:"sm",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full w-8 h-8 p-0",onClick:()=>{var r;return(r=k.current)==null?void 0:r.click()},children:e.jsx(Fe,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"name",children:"Nome completo"}),e.jsx(G,{id:"name",value:n.name,onChange:r=>N({...n,name:r.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"phone",children:"Telefone / WhatsApp"}),e.jsx(G,{id:"phone",value:n.phone,onChange:r=>N({...n,phone:r.target.value}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(R,{htmlFor:"city",children:"Cidade"}),e.jsx(G,{id:"city",value:n.city,onChange:r=>N({...n,city:r.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Estado"}),e.jsxs(Pe,{value:n.state,onValueChange:r=>N({...n,state:r}),children:[e.jsx(_e,{children:e.jsx(ke,{placeholder:"UF"})}),e.jsx(Ee,{children:Ye.map(r=>e.jsx(qe,{value:r,children:r},r))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"neighborhoods",children:"Bairros de atuaÃ§Ã£o"}),e.jsx(G,{id:"neighborhoods",placeholder:"Ex: Centro, Zona Sul, Tijuca...",value:n.neighborhoods,onChange:r=>N({...n,neighborhoods:r.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"experience",children:"Anos de experiÃªncia"}),e.jsx(G,{id:"experience",type:"number",value:n.experience,onChange:r=>N({...n,experience:r.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"price",children:"Valor da aula (R$)"}),e.jsx(G,{id:"price",type:"number",value:n.price,onChange:r=>N({...n,price:r.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Especialidades"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Qe.map(r=>e.jsx(v,{type:"button",variant:n.specialties.includes(r)?"default":"outline",size:"sm",onClick:()=>j(r),children:r},r))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"bio",children:"Sobre vocÃª"}),e.jsx(De,{id:"bio",placeholder:"Conte um pouco sobre sua experiÃªncia, metodologia e diferenciais...",rows:4,value:n.bio,onChange:r=>N({...n,bio:r.target.value})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:a,className:"flex-1",children:"Cancelar"}),e.jsx(v,{type:"submit",disabled:d,className:"flex-1 gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"h-4 w-4 animate-spin"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4"}),"Salvar alteraÃ§Ãµes"]})})]}),e.jsxs("div",{className:"pt-6 border-t mt-6",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-4",children:"AÃ§Ãµes da Conta"}),e.jsx(Me,{userType:"instructor"})]})]})]})})}function I({className:s,...l}){return e.jsx("div",{className:$("animate-pulse rounded-md bg-muted",s),...l})}function ss({instructorId:s,planType:l}){const{data:a,isLoading:c}=We(s);return l!=="destaque"&&l!=="elite"?e.jsx(m,{className:"bg-muted/50 border-dashed",children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx(ie,{className:"h-8 w-8 mx-auto mb-3 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Analytics de visualizaÃ§Ãµes disponÃ­vel para planos Destaque e Elite"}),e.jsx(B,{to:"/instrutor/planos",children:e.jsx(v,{variant:"outline",size:"sm",className:"text-xs",children:"FaÃ§a upgrade para ver"})})]})}):c?e.jsxs(m,{children:[e.jsx(A,{className:"pb-2",children:e.jsx(I,{className:"h-5 w-32"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsx(I,{className:"h-20 w-full"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(I,{className:"h-16"}),e.jsx(I,{className:"h-16"}),e.jsx(I,{className:"h-16"})]})]})]}):e.jsxs(m,{className:"bg-gradient-to-br from-primary/5 to-transparent border-primary/20",children:[e.jsx(A,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(C,{className:"text-lg flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5 text-primary"}),"VisualizaÃ§Ãµes do Perfil"]}),e.jsx(U,{className:"bg-primary/20 text-primary border-primary/30",children:l==="elite"?"Elite":"Destaque"})]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-xl",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total de visualizaÃ§Ãµes"}),e.jsx("p",{className:"text-4xl font-black text-primary",children:(a==null?void 0:a.totalViews)||0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"text-center p-3 bg-background/30 rounded-lg",children:[e.jsx(H,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("p",{className:"text-lg font-bold",children:(a==null?void 0:a.todayViews)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hoje"})]}),e.jsxs("div",{className:"text-center p-3 bg-background/30 rounded-lg",children:[e.jsx(E,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("p",{className:"text-lg font-bold",children:(a==null?void 0:a.last7Days)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"7 dias"})]}),e.jsxs("div",{className:"text-center p-3 bg-background/30 rounded-lg",children:[e.jsx(he,{className:"h-4 w-4 mx-auto mb-1 text-muted-foreground"}),e.jsx("p",{className:"text-lg font-bold",children:(a==null?void 0:a.last30Days)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"30 dias"})]})]})]})]})}const W={trial:{hasUnlimitedLessons:!1,hasAnalytics:!1,hasPrioritySupport:!1,hasVerifiedBadge:!1,hasHighlightBadge:!1,hasActiveBadge:!1,searchRanking:100,maxLessonsPerMonth:10,supportLevel:"email"},expired:{hasUnlimitedLessons:!1,hasAnalytics:!1,hasPrioritySupport:!1,hasVerifiedBadge:!1,hasHighlightBadge:!1,hasActiveBadge:!1,searchRanking:100,maxLessonsPerMonth:0,supportLevel:"email"},essencial:{hasUnlimitedLessons:!0,hasAnalytics:!1,hasPrioritySupport:!1,hasVerifiedBadge:!1,hasHighlightBadge:!1,hasActiveBadge:!0,searchRanking:50,maxLessonsPerMonth:-1,supportLevel:"email_chat"},destaque:{hasUnlimitedLessons:!0,hasAnalytics:!0,hasPrioritySupport:!0,hasVerifiedBadge:!1,hasHighlightBadge:!0,hasActiveBadge:!0,searchRanking:10,maxLessonsPerMonth:-1,supportLevel:"priority"},elite:{hasUnlimitedLessons:!0,hasAnalytics:!0,hasPrioritySupport:!0,hasVerifiedBadge:!0,hasHighlightBadge:!0,hasActiveBadge:!0,searchRanking:5,maxLessonsPerMonth:-1,supportLevel:"vip_24h"}};function as(){const[s,l]=o.useState(null),[a,c]=o.useState(W.trial),[d,t]=o.useState(!0),[u,f]=o.useState(null),p=o.useCallback(async()=>{var j;try{f(null);const{data:b}=await h.auth.getSession();if(!((j=b==null?void 0:b.session)!=null&&j.access_token))return t(!1),null;const{data:y,error:r}=await h.functions.invoke("check-instructor-subscription",{headers:{Authorization:`Bearer ${b.session.access_token}`}});if(r)throw r;if(y!=null&&y.subscription){const g=y.subscription;l(g);const D=g.isActive?W[g.planType]||W.trial:W.expired;return c(D),g}return null}catch(b){return console.error("Error checking subscription:",b),f(b instanceof Error?b.message:"Erro ao verificar assinatura"),null}finally{t(!1)}},[]);o.useEffect(()=>{p()},[p]),o.useEffect(()=>{const j=setInterval(()=>{p()},3e4);return()=>clearInterval(j)},[p]),o.useEffect(()=>{const{data:{subscription:j}}=h.auth.onAuthStateChange(()=>{p()});return()=>j.unsubscribe()},[p]),o.useEffect(()=>{const j=h.channel("instructor-subscription-updates").on("postgres_changes",{event:"*",schema:"public",table:"instructor_subscriptions"},()=>{console.log("Subscription updated in DB, refreshing..."),p()}).subscribe();return()=>{h.removeChannel(j)}},[p]);const q=o.useCallback(j=>s!=null&&s.isActive?s.planType===j:!1,[s]),k=o.useCallback(j=>s!=null&&s.isActive?a[j]:!1,[s,a]),L=(s==null?void 0:s.isActive)&&a.hasAnalytics,n=(s==null?void 0:s.isActive)&&a.hasUnlimitedLessons,N=(s==null?void 0:s.isActive)&&["essencial","destaque","elite"].includes(s.planType),P=(s==null?void 0:s.planType)==="expired"||!(s!=null&&s.isActive);return{subscription:s,features:a,isLoading:d,error:u,checkSubscription:p,isPlanActive:q,hasFeature:k,canAccessAnalytics:L,canAccessUnlimitedLessons:n,isPremium:N,isExpired:P}}function ts({planType:s}){if(s==="trial"||s==="expired")return null;const l={essencial:{title:"Plano Essencial Ativo",description:"VocÃª tem acesso profissional ilimitado e selo de verificaÃ§Ã£o.",icon:Ve,gradient:"from-blue-500/20 via-blue-900/40 to-slate-900",border:"border-blue-500/30",iconBg:"bg-blue-500",textColor:"text-blue-200",cta:"Gerenciar Plano"},destaque:{title:"Plano Destaque Ativo",description:"Seu perfil aparece no topo das buscas regionais.",icon:Te,gradient:"from-emerald-500/20 via-emerald-900/40 to-slate-900",border:"border-emerald-500/30",iconBg:"bg-emerald-500",textColor:"text-emerald-200",cta:"Ver Analytics"},elite:{title:"Membro Elite",description:"MÃ¡xima visibilidade, suporte VIP e consultoria exclusiva.",icon:Ie,gradient:"from-amber-500/20 via-orange-900/40 to-slate-900",border:"border-amber-500/30",iconBg:"bg-gradient-to-br from-amber-400 to-orange-600",textColor:"text-amber-200",cta:"Acessar Consultoria"}},a=l[s]||l.essencial,c=a.icon;return e.jsxs(m,{className:$("mb-8 border overflow-hidden relative group",a.border),children:[e.jsx("div",{className:$("absolute inset-0 bg-gradient-to-r opacity-100 transition-all duration-500",a.gradient)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs(x,{className:"relative p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:$("w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg transform group-hover:scale-105 transition-all duration-300",a.iconBg),children:e.jsx(c,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:$("text-xl font-bold text-white"),children:a.title}),e.jsxs("div",{className:"px-2 py-0.5 rounded-full bg-white/10 text-white text-xs font-medium border border-white/10 backdrop-blur-sm flex items-center gap-1",children:[e.jsx(Z,{className:"w-3 h-3"}),"Ativo"]})]}),e.jsx("p",{className:$("text-base",a.textColor),children:a.description})]})]}),e.jsx(B,{to:"/instrutor/planos",children:e.jsx(v,{variant:"secondary",className:"whitespace-nowrap bg-white/10 hover:bg-white/20 text-white border border-white/10 shadow-xl backdrop-blur-md",children:s==="trial"?"Fazer Upgrade":"Gerenciar Assinatura"})})]})]})}const rs={trial:"Trial",essencial:"Essencial",destaque:"Destaque",elite:"Elite"},ce={active:{label:"Ativo",variant:"default",icon:Z},cancelled:{label:"Cancelado",variant:"destructive",icon:te},expired:{label:"Expirado",variant:"secondary",icon:H}};function is(){const[s,l]=o.useState([]),[a,c]=o.useState(!0);return o.useEffect(()=>{(async()=>{try{const{data:{user:t}}=await h.auth.getUser();if(!t)return;const{data:u}=await h.from("instructors").select("id").eq("user_id",t.id).single();if(!u)return;const{data:f,error:p}=await h.from("subscription_history").select("*").eq("instructor_id",u.id).order("created_at",{ascending:!1});if(p)throw p;l(f||[])}catch(t){console.error("Error fetching subscription history:",t)}finally{c(!1)}})()},[]),a?e.jsx(m,{children:e.jsx(x,{className:"flex items-center justify-center py-8",children:e.jsx(K,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):s.length===0?e.jsxs(m,{children:[e.jsx(A,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"HistÃ³rico de Assinaturas"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ee,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Nenhum histÃ³rico de assinatura encontrado."}),e.jsx("p",{className:"text-sm mt-1",children:"Seu histÃ³rico aparecerÃ¡ aqui apÃ³s sua primeira assinatura."})]})})]}):e.jsxs(m,{children:[e.jsx(A,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"HistÃ³rico de Assinaturas"]})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:s.map(d=>{const t=ce[d.status]||ce.expired,u=t.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(Ue,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:rs[d.plan_type]||d.plan_type}),e.jsxs(U,{variant:t.variant,className:"gap-1",children:[e.jsx(u,{className:"h-3 w-3"}),t.label]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[e.jsx(E,{className:"h-3 w-3"}),X(new Date(d.started_at),"dd 'de' MMMM 'de' yyyy",{locale:J}),d.ended_at&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â†’"}),X(new Date(d.ended_at),"dd 'de' MMMM 'de' yyyy",{locale:J})]})]})]})]}),d.amount_paid&&e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"font-semibold text-foreground",children:["R$ ",d.amount_paid.toFixed(2).replace(".",",")]})})]},d.id)})})})]})}const oe={pending:{label:"Pendente",variant:"outline"},confirmed:{label:"Confirmada",variant:"default"},completed:{label:"ConcluÃ­da",variant:"secondary"},cancelled:{label:"Cancelada",variant:"destructive"}};function ns(){const{data:s,isLoading:l}=Je(),[a,c]=o.useState(null);if(l)return e.jsx(m,{children:e.jsx(x,{className:"flex items-center justify-center py-12",children:e.jsx(K,{className:"h-6 w-6 animate-spin text-muted-foreground"})})});if(!s||s.length===0)return e.jsxs(m,{children:[e.jsx(A,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"HistÃ³rico de Aulas"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(E,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Nenhuma aula encontrada."}),e.jsx("p",{className:"text-sm mt-1",children:"Suas aulas agendadas aparecerÃ£o aqui."})]})})]});const d=t=>{const u=new Date,f=new Date(t.scheduled_at);return(t.status==="pending"||t.status==="confirmed")&&f>u};return e.jsxs(e.Fragment,{children:[e.jsxs(m,{children:[e.jsxs(A,{children:[e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"HistÃ³rico de Aulas"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Veja todas as suas aulas agendadas"})]}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:s.map(t=>{var p,q,k,L,n;const u=oe[t.status]||oe.pending,f=new Date(t.scheduled_at);return e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(me,{className:"h-10 w-10",children:[e.jsx(xe,{src:((p=t.student)==null?void 0:p.avatar_url)||void 0}),e.jsx(ue,{children:((k=(q=t.student)==null?void 0:q.name)==null?void 0:k.charAt(0))||"A"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:((L=t.student)==null?void 0:L.name)||"Aluno"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[e.jsx(E,{className:"h-3 w-3"}),X(f,"d 'de' MMMM 'de' yyyy",{locale:J})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(H,{className:"h-3 w-3"}),X(f,"HH:mm",{locale:J})," - ",t.duration_minutes," min"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(U,{variant:u.variant,children:u.label}),e.jsxs("span",{className:"font-semibold text-foreground",children:["R$ ",(n=t.price)==null?void 0:n.toFixed(2).replace(".",",")]}),d(t)&&e.jsxs(v,{variant:"outline",size:"sm",className:"text-destructive border-destructive/30 hover:bg-destructive/10",onClick:()=>c(t.id),children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),"Cancelar"]})]})]},t.id)})})})]}),a&&e.jsx(Re,{lessonId:a,open:!!a,onOpenChange:t=>!t&&c(null)})]})}function ls({pendingLessons:s,isActionLoading:l,onLessonAction:a}){return s.length===0?null:e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Novas SolicitaÃ§Ãµes"}),e.jsx(U,{variant:"destructive",className:"animate-pulse",children:"NOVO"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(c=>{var d;return e.jsxs(m,{className:"border-primary/20 bg-primary/5 shadow-md",children:[e.jsx(A,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(C,{className:"text-base",children:"Aula Agendada"}),e.jsxs(V,{className:"flex items-center gap-1 mt-1",children:[e.jsx(E,{className:"h-3 w-3"}),new Date(c.scheduled_at).toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs(U,{variant:"outline",className:"bg-white dark:bg-slate-900",children:["R$ ",(d=c.price)==null?void 0:d.toFixed(2)]})]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground border-y border-primary/10 py-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-4 w-4"}),c.duration_minutes," min"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{className:"flex-1 bg-green-600 hover:bg-green-700 text-white",size:"sm",disabled:l===c.id,onClick:()=>a(c.id,"confirmed"),children:l===c.id?e.jsx(K,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Confirmar"]})}),e.jsxs(v,{variant:"outline",className:"flex-1 border-red-200 text-red-600 hover:bg-red-50",size:"sm",disabled:l===c.id,onClick:()=>a(c.id,"cancelled"),children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Recusar"]})]})]})]},c.id)})})]})}function cs(s){return fe({queryKey:["instructor-metrics",s],queryFn:async()=>{if(!s)throw new Error("No instructor ID");const l=new Date,a=new Date(l.getTime()-10080*60*1e3).toISOString(),c=new Date(l.getTime()-720*60*60*1e3).toISOString(),{data:d}=await h.from("lessons").select("id, status, price, student_id, scheduled_at").eq("instructor_id",s),t=d||[],u=t.filter(i=>i.status==="completed"),f=t.filter(i=>i.status==="confirmed"),p=t.filter(i=>i.status==="pending"),q=t.filter(i=>i.status==="cancelled"),k=new Set(t.map(i=>i.student_id)),L=[...u,...f].reduce((i,w)=>i+(w.price||0),0),{data:n}=await h.from("subscription_history").select("amount_paid").eq("instructor_id",s).eq("status","active"),N=(n||[]).reduce((i,w)=>i+(w.amount_paid||0),0),{count:P}=await h.from("profile_views").select("*",{count:"exact",head:!0}).eq("instructor_id",s),j=P||0,b=f.length+u.length+p.length,y=j>0?Math.round(b/j*100*10)/10:0,r=t.filter(i=>new Date(i.scheduled_at)>=new Date(a)&&(i.status==="completed"||i.status==="confirmed")).length,g=t.filter(i=>new Date(i.scheduled_at)>=new Date(a)&&(i.status==="completed"||i.status==="confirmed")).reduce((i,w)=>i+(w.price||0),0),D=t.filter(i=>new Date(i.scheduled_at)>=new Date(c)&&(i.status==="completed"||i.status==="confirmed")).length,M=t.filter(i=>new Date(i.scheduled_at)>=new Date(c)&&(i.status==="completed"||i.status==="confirmed")).reduce((i,w)=>i+(w.price||0),0);return{totalLessonsCompleted:u.length,totalLessonsScheduled:f.length,totalLessonsPending:p.length,totalLessonsCancelled:q.length,uniqueStudents:k.size,revenueFromLessons:L,revenueFromSubscription:N,totalRevenue:L+N,conversionRate:y,profileViews:j,lessonsLast7Days:r,lessonsLast30Days:D,revenueLast7Days:g,revenueLast30Days:M}},enabled:!!s,refetchInterval:6e4})}function os({instructorId:s,planType:l}){const{data:a,isLoading:c}=cs(s),d=l==="destaque"||l==="elite";if(c)return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{className:"h-8 w-48"}),e.jsx(I,{className:"h-6 w-24"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:8}).map((u,f)=>e.jsx(I,{className:"h-32"},f))})]});if(!a)return null;const t=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u);return d?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-primary"}),"Dashboard de MÃ©tricas"]}),e.jsx(U,{className:"bg-gradient-to-r from-primary to-accent text-primary-foreground",children:l==="elite"?"Elite":"Destaque"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(F,{icon:e.jsx(Z,{className:"h-5 w-5 text-green-500"}),title:"Aulas Realizadas",value:a.totalLessonsCompleted,bgClass:"from-green-500/10"}),e.jsx(F,{icon:e.jsx(E,{className:"h-5 w-5 text-blue-500"}),title:"Aulas Agendadas",value:a.totalLessonsScheduled,bgClass:"from-blue-500/10"}),e.jsx(F,{icon:e.jsx(H,{className:"h-5 w-5 text-amber-500"}),title:"Pendentes",value:a.totalLessonsPending,bgClass:"from-amber-500/10"}),e.jsx(F,{icon:e.jsx(te,{className:"h-5 w-5 text-red-500"}),title:"Canceladas",value:a.totalLessonsCancelled,bgClass:"from-red-500/10"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(m,{className:"bg-gradient-to-br from-emerald-500/10 to-transparent border-emerald-500/20",children:[e.jsx(A,{className:"pb-2",children:e.jsxs(C,{className:"text-base flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5 text-emerald-500"}),"Receita Total"]})}),e.jsxs(x,{children:[e.jsx("p",{className:"text-3xl font-black text-emerald-600",children:t(a.totalRevenue)}),e.jsxs("div",{className:"mt-3 space-y-1 text-sm text-muted-foreground",children:[e.jsxs("p",{children:["Aulas: ",t(a.revenueFromLessons)]}),e.jsxs("p",{children:["Assinaturas: ",t(a.revenueFromSubscription)]})]})]})]}),e.jsxs(m,{className:"bg-gradient-to-br from-purple-500/10 to-transparent border-purple-500/20",children:[e.jsx(A,{className:"pb-2",children:e.jsxs(C,{className:"text-base flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-purple-500"}),"Alunos Atendidos"]})}),e.jsxs(x,{children:[e.jsx("p",{className:"text-3xl font-black text-purple-600",children:a.uniqueStudents}),e.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Alunos Ãºnicos que agendaram aulas"})]})]}),e.jsxs(m,{className:"bg-gradient-to-br from-cyan-500/10 to-transparent border-cyan-500/20",children:[e.jsx(A,{className:"pb-2",children:e.jsxs(C,{className:"text-base flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5 text-cyan-500"}),"Taxa de ConversÃ£o"]})}),e.jsxs(x,{children:[e.jsxs("p",{className:"text-3xl font-black text-cyan-600",children:[a.conversionRate,"%"]}),e.jsxs("p",{className:"mt-3 text-sm text-muted-foreground",children:[a.profileViews," visualizaÃ§Ãµes â†’ ",a.totalLessonsScheduled+a.totalLessonsCompleted+a.totalLessonsPending," aulas"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(m,{children:[e.jsxs(A,{children:[e.jsx(C,{className:"text-base",children:"Ãšltimos 7 dias"}),e.jsx(V,{children:"Aulas e receita na semana"})]}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[a.lessonsLast7Days," aulas"]}),e.jsx("p",{className:"text-lg text-emerald-600 font-semibold",children:t(a.revenueLast7Days)})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(E,{className:"h-6 w-6 text-primary"})})]})})]}),e.jsxs(m,{children:[e.jsxs(A,{children:[e.jsx(C,{className:"text-base",children:"Ãšltimos 30 dias"}),e.jsx(V,{children:"Aulas e receita no mÃªs"})]}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[a.lessonsLast30Days," aulas"]}),e.jsx("p",{className:"text-lg text-emerald-600 font-semibold",children:t(a.revenueLast30Days)})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center",children:e.jsx(he,{className:"h-6 w-6 text-accent"})})]})})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-primary"}),"MÃ©tricas do Dashboard"]}),e.jsx(U,{variant:"outline",children:"Trial"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(F,{icon:e.jsx(Z,{className:"h-5 w-5 text-green-500"}),title:"Aulas Realizadas",value:a.totalLessonsCompleted}),e.jsx(F,{icon:e.jsx(E,{className:"h-5 w-5 text-blue-500"}),title:"Aulas Agendadas",value:a.totalLessonsScheduled}),e.jsx(F,{icon:e.jsx(H,{className:"h-5 w-5 text-amber-500"}),title:"Pendentes",value:a.totalLessonsPending}),e.jsx(F,{icon:e.jsx(ne,{className:"h-5 w-5 text-purple-500"}),title:"Alunos Atendidos",value:a.uniqueStudents})]}),e.jsx(m,{className:"bg-gradient-to-r from-primary/10 to-accent/10 border-primary/20",children:e.jsxs(x,{className:"flex items-center justify-between gap-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center",children:e.jsx(se,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground",children:"Desbloqueie mÃ©tricas avanÃ§adas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receita, conversÃ£o, evoluÃ§Ã£o por perÃ­odo e muito mais."})]})]}),e.jsx(B,{to:"/instrutor/planos",children:e.jsxs(v,{className:"gap-2",children:["Fazer Upgrade",e.jsx(He,{className:"h-4 w-4"})]})})]})})]})}function F({icon:s,title:l,value:a,bgClass:c=""}){return e.jsx(m,{className:`bg-gradient-to-br ${c} to-transparent`,children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:l}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:a})]}),s]})})})}function Ls(){var re;const[s,l]=o.useState(null),[a,c]=o.useState(null),[d,t]=o.useState(!0),[u,f]=o.useState(!1),[p,q]=o.useState(0),[k,L]=o.useState([]),[n,N]=o.useState(null),P=Ne(),j=ye(),{toast:b}=de(),{subscription:y,isPremium:r,isExpired:g}=as(),[D,M]=o.useState(null);o.useEffect(()=>{var S;(S=j.state)!=null&&S.refreshedSubscription&&M(j.state.refreshedSubscription)},[j.state]);const i=D||y,w=(i==null?void 0:i.planType)||"trial",z=o.useCallback(async()=>{try{const{data:{user:S}}=await h.auth.getUser();if(!S){P("/instrutor/login");return}const{count:T}=await h.from("messages").select("*",{count:"exact",head:!0}).eq("is_read",!1).neq("sender_id",S.id);q(T||0);const{data:_,error:O}=await h.from("instructors").select("*").eq("user_id",S.id).maybeSingle();if(O)throw O;if(_&&_.status==="suspended"){const{data:Y}=await h.from("admin_action_logs").select("notes").eq("target_instructor_id",_.id).in("action",["suspend","reject"]).order("created_at",{ascending:!1}).limit(1);Y&&Y.length>0&&c(Y[0].notes)}if(!_){b({title:"Perfil nÃ£o encontrado",description:"Complete seu cadastro de instrutor.",variant:"destructive"}),P("/instrutor/cadastro");return}l(_);const{data:Q}=await h.from("lessons").select("*").eq("instructor_id",_.id).eq("status","pending").order("created_at",{ascending:!1});L(Q||[])}catch(S){console.error("Error loading instructor data:",S),b({title:"Erro",description:"NÃ£o foi possÃ­vel carregar seus dados.",variant:"destructive"})}finally{t(!1)}},[P,b]);o.useEffect(()=>{const{data:{subscription:S}}=h.auth.onAuthStateChange((_,O)=>{O||P("/instrutor/login")});z();const T=h.channel("public:lessons").on("postgres_changes",{event:"INSERT",schema:"public",table:"lessons"},()=>{z()}).subscribe();return()=>{S.unsubscribe(),h.removeChannel(T)}},[P,z]);const ge=async()=>{try{await h.auth.signOut(),b({title:"Logout realizado",description:"VocÃª foi desconectado com sucesso."}),P("/instrutor/login")}catch(S){console.error("Error signing out:",S),b({title:"Erro ao sair",description:"NÃ£o foi possÃ­vel fazer logout. Tente novamente.",variant:"destructive"})}},je=async(S,T)=>{N(S);try{const{error:_}=await h.from("lessons").update({status:T}).eq("id",S);if(_)throw _;b({title:T==="confirmed"?"Aula confirmada!":"Aula recusada",description:T==="confirmed"?"Prepare-se para encontrar o aluno.":"O aluno serÃ¡ notificado."}),L(O=>O.filter(Q=>Q.id!==S))}catch(_){console.error("Error updating lesson:",_),b({title:"Erro",description:"NÃ£o foi possÃ­vel processar a solicitaÃ§Ã£o.",variant:"destructive"})}finally{N(null)}};return d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(K,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsxs(we,{children:[e.jsx("title",{children:"Dashboard do Instrutor | Instrutores na DireÃ§Ã£o"}),e.jsx("meta",{name:"description",content:"Gerencie seu perfil de instrutor, agenda, contatos e estatÃ­sticas."})]}),e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(be,{}),e.jsx("main",{className:"flex-1 py-8 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsxs("h1",{className:"text-2xl font-bold text-foreground",children:["OlÃ¡, ",(re=s==null?void 0:s.name)==null?void 0:re.split(" ")[0],"! ðŸ‘‹"]}),i&&e.jsx(Xe,{planType:i.planType,size:"md"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie seu perfil e acompanhe seu desempenho"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{to:"/instrutor/planos",children:e.jsxs(v,{variant:"outline",className:"gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),r?"Gerenciar Plano":"Fazer Upgrade"]})}),e.jsxs(v,{variant:"outline",onClick:ge,className:"gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"Sair"]})]})]}),w!=="trial"&&w!=="expired"&&e.jsx(ts,{planType:w}),g&&e.jsx(m,{className:"mb-6 border-amber-500/50 bg-gradient-to-r from-amber-500/10 to-orange-500/10",children:e.jsxs(x,{className:"flex items-center justify-between gap-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"h-5 w-5 text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-200",children:"Seu plano expirou"}),e.jsx("p",{className:"text-sm text-amber-300/80",children:"Renove sua assinatura para continuar aproveitando todos os recursos."})]})]}),e.jsx(B,{to:"/instrutor/planos",children:e.jsx(v,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:from-amber-600 hover:to-orange-600",children:"Renovar Agora"})})]})}),(y==null?void 0:y.planType)==="trial"&&y.daysRemaining&&e.jsx(m,{className:"mb-6 border-blue-500/50 bg-gradient-to-r from-blue-500/10 to-cyan-500/10",children:e.jsxs(x,{className:"flex items-center justify-between gap-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(H,{className:"h-5 w-5 text-blue-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-blue-200",children:[y.daysRemaining," dias restantes no perÃ­odo de teste"]}),e.jsx("p",{className:"text-sm text-blue-300/80",children:"FaÃ§a upgrade para desbloquear todos os recursos premium."})]})]}),e.jsx(B,{to:"/instrutor/planos",children:e.jsx(v,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white hover:from-blue-600 hover:to-cyan-600",children:"Ver Planos"})})]})}),(s==null?void 0:s.status)==="pending"&&e.jsx(m,{className:"mb-6 border-amber-200 bg-amber-50 dark:border-amber-900 dark:bg-amber-950/30",children:e.jsxs(x,{className:"flex items-center gap-3 py-4",children:[e.jsx($e,{className:"h-5 w-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Perfil em anÃ¡lise"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Seu perfil estÃ¡ sendo revisado pela nossa equipe. VocÃª serÃ¡ notificado quando for aprovado."})]})]})}),(s==null?void 0:s.status)==="suspended"&&e.jsx(m,{className:"mb-6 border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950/30",children:e.jsxs(x,{className:"flex items-center gap-3 py-4",children:[e.jsx(te,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-200",children:"Perfil suspenso"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Seu perfil foi suspenso. Verifique seu email para mais informaÃ§Ãµes sobre o motivo da suspensÃ£o."}),a&&e.jsxs("div",{className:"mt-2 p-3 bg-red-100 dark:bg-red-900/50 rounded-md border border-red-200 dark:border-red-800",children:[e.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-200",children:"Motivo:"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 mt-1",children:a})]})]})]})}),e.jsx(ls,{pendingLessons:k,isActionLoading:n,onLessonAction:je}),s&&e.jsx("div",{className:"mb-8",children:e.jsx(os,{instructorId:s.id,planType:w})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(A,{children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-2",children:e.jsx(ae,{className:"h-6 w-6 text-primary"})}),e.jsx(C,{children:"Meu Perfil"}),e.jsx(V,{children:"Edite suas informaÃ§Ãµes, fotos e descriÃ§Ã£o"})]}),e.jsx(x,{children:e.jsx(v,{variant:"outline",className:"w-full",onClick:()=>f(!0),children:"Editar Perfil"})})]}),e.jsxs(m,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(A,{children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent/10 flex items-center justify-center mb-2",children:e.jsx(E,{className:"h-6 w-6 text-accent"})}),e.jsx(C,{children:"Minha Agenda"}),e.jsx(V,{children:"Gerencie sua disponibilidade e aulas"})]}),e.jsx(x,{children:e.jsx(B,{to:"/instrutor/agenda",children:e.jsx(v,{variant:"outline",className:"w-full",children:"Ver Agenda"})})})]}),e.jsxs(m,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(A,{children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-warning/10 flex items-center justify-center mb-2",children:e.jsx(Ze,{className:"h-6 w-6 text-warning"})}),e.jsx(C,{children:"Mensagens"}),e.jsx(V,{children:p>0?`${p} mensagens nÃ£o lidas`:"Suas conversas com alunos"})]}),e.jsx(x,{children:e.jsx(B,{to:"/mensagens",children:e.jsx(v,{variant:"outline",className:"w-full",children:"Ver Mensagens"})})})]}),s&&e.jsx(ss,{instructorId:s.id,planType:w}),e.jsxs(m,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(A,{children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted flex items-center justify-center mb-2",children:e.jsx(Ke,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx(C,{children:"ConfiguraÃ§Ãµes"}),e.jsx(V,{children:"NotificaÃ§Ãµes e preferÃªncias"})]}),e.jsx(x,{children:e.jsx(v,{variant:"outline",className:"w-full",disabled:!0,children:"Em breve"})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(ns,{})}),e.jsx("div",{className:"mt-8",children:e.jsx(is,{})})]})}),e.jsx(ve,{})]}),s&&e.jsx(es,{instructor:s,open:u,onClose:()=>f(!1),onUpdate:()=>z()})]})}export{Ls as default};
